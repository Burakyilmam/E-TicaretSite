@using Entity.Entities
@model List<Product>
@{
    ViewData["Title"] = "ProductPage";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .col-12 span a {
        color: darkorange;
        text-decoration: none;
    }
</style>
@foreach (var item in Model)
{
    <img src="@item.ThumbnailImage" width="100">
    <h1>@item.Name</h1>
    <b><a href="/Product/ListCategoryProduct/@item.CategoryId">@item.Category.Name</a></b>
    <b><a href="/Product/ListBrandProduct/@item.BrandId">@item.Brand.Name</a></b>

    @await Component.InvokeAsync("ListProductImages",new {id=ViewBag.Id})
    @await Component.InvokeAsync("ListComment",new {id=ViewBag.Id})
    <br />
    @if (User.Identity.IsAuthenticated)
    {
        @await Html.PartialAsync("~/Views/Comment/CommentAdd.cshtml")
    }
    else
    {
        <div class="col-12">
            <p class="bg-secondary text-white p-3" style="border-radius:10px;">
                Sadece kayıtlı üyeler yorum yapabilir.Yorum Yapabilmeniz için üye girişi yapmanız gerekmektedir.Eğer üye değilseniz yan tarafta bulunan kayıt ol butonu ile üye olabilirsiniz.
                <a class="btn-light m-2" style="padding:10px;border-radius:10px" href="/User/ProductUserLogin/@item.Id">
                    Giriş Yap
                </a>
                <a class="btn-danger" style="padding:10px;border-radius:10px" href="/User/UserRegister/">
                    Üye Ol
                </a>
            </p>
        </div>
    }
    <div class="col-12" style="display:flex;justify-content:center;margin-left:-25px">
        <h2>
            @item.Category.Name <span style="font-size:16px;">
                <a href="/Product/ListCategoryProduct/@item.CategoryId">Tümünü Göster</a>
            </span>
        </h2>
    </div>
    @await Component.InvokeAsync("ListSimilarCategory",new {id = item.CategoryId})
    <div class="col-12" style="display:flex;justify-content:center;margin-left:-25px">
        <h2>
            @item.Brand.Name <span style="font-size:16px;">
                <a href="/Product/ListBrandProduct/@item.BrandId">Tümünü Göster</a>
            </span>
        </h2>
    </div>
    @await Component.InvokeAsync("ListBrandProducts",new {id = item.BrandId})
    <div class="col-12" style="display:flex;justify-content:center;margin-left:-25px">
        <h2>
            @item.Category.MainCategory.MainCategoryName <span style="font-size:16px;">
                <a href="/Product/ListMainCategoryProduct/1">Tümünü Göster</a>
            </span>
        </h2>
    </div>
    @await Component.InvokeAsync("MainCategoryProducts",new {id = item.Category.MainCategoryId})
   
}